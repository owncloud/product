{{$file := .Get "file"}}
{{ $options := "linenos=false" }}
{{- if (.Get "options") -}}
{{ $options = (.Get "options")}}
{{- else -}}
{{- $options = "linenos=table" -}}
{{- end -}}
{{- if eq (.Get "markdown") "true" -}}
{{- $file | readFile | markdownify -}}
{{- else if (.Get "language") -}}
{{- highlight ($file | readFile) (.Get "language") $options -}}
{{- else -}}
{{ $file | readFile | safeHTML }}
{{- end -}}